#!/bin/sh
summary="Youtube-dl"

[ $# -ne 1 ] && echo "Usage: ytdlmenu URL" && exit

if [ $(echo $1 | awk '/^https?:\/\/[[:alpha:]]+\.[[:alpha:]]+/' | wc -l) -eq 1 ]; then
    result=$(echo "audio\ngood video (1080p)\nbad video (480p)" | dmenu -r -i -p \
	"Download $1 as:" -l 4 -fn "monospace:size=12" )
    alacritty --hold -e ytdl "$result" "$1"

else
    notify-send "$summary" "Invalid URL."
fi
