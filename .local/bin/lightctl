#!/bin/sh
# Requires brightnessctl

# No arguments - query brightness level
# Used by dwmblocks
[ $# -eq 0 ] && awk 'BEGIN {printf("%-3d\n", '"$(brightnessctl g)"' / '"$(brightnessctl m)"' * 100)}' && exit

# Use the value '5' if 2nd argument is missing
delta="${2:-5}"

case "$1" in
	up) brightnessctl s +${delta}% ;;
	down) brightnessctl s ${delta}%- ;;
esac

# Update dwmblocks brightness module
# update signal: 11 + 34
kill -45 $(pidof dwmblocks)
