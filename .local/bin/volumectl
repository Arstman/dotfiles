#!/bin/sh
# Requires: pulsemixer

if [ $# -eq 0 ]; then
	[ $(pulsemixer --get-mute) -eq 1 ] && echo "Mut" && exit

	# Padding with 3 spaces to the right
	pulsemixer --get-volume | awk '{printf "%-3i\n", $1}'; exit
fi

# Use the value '5' if $2 is missing
delta="${2:-5}"

case "$1" in
	up) pulsemixer --change-volume +${delta} ;;
	down) pulsemixer --change-volume -${delta} ;;
	mute) pulsemixer --toggle-mute ;;
esac > /dev/null

# Update dwmblocks volume module
# update signal: 10 + 34
kill -44 $(pidof dwmblocks)
